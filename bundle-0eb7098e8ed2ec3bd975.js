(()=>{"use strict";var __webpack_modules__={852:(t,e,r)=>{r.r(e)},333:function(t,e,r){var n,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.PixelsData=e.Canvas=e.Rgba=void 0;var o=r(959),i=function(){function t(t,e,r,n){this.red=t,this.green=e,this.blue=r,this.alpha=n}return t.randRgb=function(){return new t(o.randInt(0,256),o.randInt(0,256),o.randInt(0,256),255)},t.prototype.interpolate=function(e,r){return new t(o.interpolate(this.red,e.red,r),o.interpolate(this.green,e.green,r),o.interpolate(this.blue,e.blue,r),o.interpolate(this.alpha,e.alpha,r))},t.prototype.normalise=function(){return new t(o.limNumber(0,255,this.red),o.limNumber(0,255,this.green),o.limNumber(0,255,this.blue),o.limNumber(0,255,this.alpha))},t.prototype.mutateRgb=function(e){return new t(this.red+o.randFloat(-e,e),this.green+o.randFloat(-e,e),this.blue+o.randFloat(-e,e),this.alpha).normalise()},t.prototype.difference=function(e){return(Math.abs(this.red-e.red)+Math.abs(this.green-e.green)+Math.abs(this.blue-e.blue)+Math.abs(this.alpha-e.alpha))/t.MAX_DIF},t.MAX_DIF=1020,t}();e.Rgba=i;var u=function(t,e,r){this.node=r||document.createElement("canvas"),this.node.width=t,this.node.height=e,this.ctx=this.node.getContext("2d")};e.Canvas=u;var l=function(t){function e(e,r,n){var a=t.call(this,e,r,n)||this;return a.data=a.ctx.createImageData(a.node.width,a.node.height),a}return a(e,t),e.prototype.setPixel=function(t,e,r){var n=4*(e*this.data.width+t);this.data.data[n]=r.red,this.data.data[n+1]=r.green,this.data.data[n+2]=r.blue,this.data.data[n+3]=r.alpha},e.prototype.update=function(){return this.ctx.putImageData(this.data,0,0),this},e}(u);e.PixelsData=l},959:function(t,e){var r=this&&this.__generator||function(t,e){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};function n(t,e){return Math.random()*(e-t)+t}function a(t,e){return Math.floor(n(t,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=e.limNumber=e.normalizeNumber=e.fixNumber=e.randChoice=e.randInt=e.randFloat=e.range=void 0,e.range=function(t,e){return r(this,(function(r){switch(r.label){case 0:return t<e?[4,t++]:[3,2];case 1:return r.sent(),[3,0];case 2:return[2]}}))},e.randFloat=n,e.randInt=a,e.randChoice=function(t){return t[a(0,t.length)]},e.fixNumber=function(t,e,r){return r>=t?r%e:e- -r%e},e.normalizeNumber=function(t,e,r){return(r-t)/(e-t)},e.limNumber=function(t,e,r){return Math.max(Math.min(r,e),t)},e.interpolate=function(t,e,r){return t+(e-t)*r}}},__webpack_module_cache__={};function __webpack_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var exports=__webpack_exports__,__webpack_unused_export__;__webpack_unused_export__={value:!0},__webpack_require__(852);var drawing_1=__webpack_require__(333),math_functions_1=__webpack_require__(959),W=256,H=256,PX=2,sin=Math.sin,asin=Math.asin,cos=Math.cos,acos=Math.acos,tan=Math.tan,atan=Math.atan,hypot=Math.hypot,round=Math.round,rand=Math.random,abs=Math.abs,sqrt=Math.sqrt,cbrt=Math.cbrt,avg=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t+e}))/t.length};onload=function(){var imgNode=document.querySelector("#img"),formulaInputNode=document.querySelector("#formula");formulaInputNode.oninput=function(){eval("formula = (x, y) => "+formulaInputNode.value),t=0};var minOutput=document.querySelector("#min"),maxOutput=document.querySelector("#max"),errOutput=document.querySelector("#err"),canvas=new drawing_1.Canvas(W*PX,H*PX,imgNode);canvas.ctx.imageSmoothingEnabled=!1;var pixels=new drawing_1.PixelsData(W,H),formula;eval("formula = (x, y, t) => "+formulaInputNode.value);var t=0;setInterval((function(){var e=[],r=1/0,n=-1/0;try{errOutput.innerHTML="";for(var a=0;a<W;a++){e[a]=[];for(var o=0;o<H;o++){var i=formula(a-W/2,o-H/2,t);e[a][o]=i,r=Math.min(r,i),n=Math.max(n,i)}}}catch(t){errOutput.innerHTML=t}for(minOutput.innerHTML=r.toString(),maxOutput.innerHTML=n.toString(),a=0;a<W;a++)for(o=0;o<H;o++){var u=math_functions_1.normalizeNumber(r,n,e[a][o]);pixels.setPixel(a,o,new drawing_1.Rgba(0,0,0,255).interpolate(new drawing_1.Rgba(255,255,255,255),u))}pixels.update(),canvas.ctx.drawImage(pixels.node,0,0,canvas.node.width,canvas.node.height),t+=1}))}})()})();
//# sourceMappingURL=bundle-0eb7098e8ed2ec3bd975.js.map